static const char *g_shader_header = ""
#if defined(USE_LD)
"header.glsl"
#else
"#version 430 compatibility\n"
"layout(location=0)uniform ivec3 o[6];"
"layout(location=6)uniform sampler2D t;"
"layout(location=7)uniform sampler3D i;"
"float v()"
"{"
"float e=o[5].b;"
"return e+=smoothstep(17000000,18200000,e)*2000000;"
"}"
"float x=smoothstep(10000000,12800000,v()),b=smoothstep(17000000,20200000,v());"
"vec3 n=normalize(vec3(1,.5,1));"
"float f(vec2 o)"
"{"
"vec2 r=o*2.7,c=r*2.7,v=c*2.7,a=v*2.7;"
"float e=.38;"
"return sin(texture(t,o).r)-sin(texture(t,r).r)*e+sin(texture(t,c).r)*pow(e,2)-sin(texture(t,v).r)*pow(e,3)+sin(texture(t,a).r)*pow(e,4)-sin(texture(t,a*2.7).r)*pow(e,5);"
"}"
"float l(vec3 t)"
"{"
"mat3 e=mat3(-.99,-.16,.02,.14,-.77,.63,-.08,.62,.78);"
"vec3 o=e*t,r=e*o*1.3,c=e*r*1.3,v=e*c*1.3,a=e*v*1.3;"
"return texture(i,o).r-texture(i,r).r*.8+texture(i,c).r*.6-texture(i,v).r*.4+texture(i,a).r*.2-texture(i,e*a*1.3).r*.1;"
"}"
"vec3 a()"
"{"
"return mix(vec3(o[0]),vec3(o[1]),float(o[5].r)/float(o[5].g));"
"}"
"mat4 u()"
"{"
"mat4 e=mat4(0);"
"e[0][0]=.9719,e[1][1]=1.73,e[2][2]=-1.0006008,e[2][3]=-1,e[3][2]=-.2001;"
"vec3 r=normalize(vec3(o[2])),c=normalize(cross(r,normalize(vec3(o[3]))));"
"mat3 o=transpose(mat3(c,normalize(cross(c,r)),r));"
"mat4 v=mat4(o);"
"return v[3]=vec4(o*-a(),1),e*v;"
"}"
"vec4 m(vec2 o)"
"{"
"float e=f(o*.00002)*66.,r=0;"
"if(e<18.)"
"{"
"if(e<13.5)r=smoothstep(-13.5,-10.5,-e),e=18.-r*3.;"
"else e=18;"
"}"
"return e+=pow(r,4.)*(f(sin(o*.0035+v()*.000000004))*.35-f(cos(o*.0065-v()*.000000004))*.21),vec4(o.r,e,o.g,r);"
"}"
#endif
"";
